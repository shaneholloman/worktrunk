---
source: tests/integration_tests/help.rs
info:
  program: wt
  args:
    - switch
    - "--help"
  env:
    CLICOLOR_FORCE: "1"
    COLUMNS: "150"
    GIT_EDITOR: ""
    RUST_LOG: warn
    SOURCE_DATE_EPOCH: "1735776000"
    TERM: alacritty
    WORKTRUNK_CONFIG_PATH: /nonexistent/test/config.toml
    WORKTRUNK_TEST_SKIP_URL_HEALTH_CHECK: "1"
---
success: true
exit_code: 0
----- stdout -----

----- stderr -----
wt switch - Switch to a worktree

Usage: [1m[36mwt switch[0m [36m[OPTIONS][0m [36m<BRANCH>[0m [1m[36m[--[0m [36m<EXECUTE_ARGS>...[0m[1m[36m]

[1m[32mArguments:
  [36m<BRANCH>
          Branch name
          
          Shortcuts: '^' (default branch), '-' (previous), '@' (current)

  [36m[EXECUTE_ARGS]...
          Additional arguments for --execute command (after --)
          
          Arguments after [1m--[0m are appended to the execute command. Each argument is POSIX shell-escaped before appending.

[1m[32mOptions:
  [1m[36m-c[0m, [1m[36m--create
          Create a new branch

  [1m[36m-b[0m, [1m[36m--base[0m[36m [0m[36m<BASE>
          Base branch
          
          Defaults to default branch.

  [1m[36m-x[0m, [1m[36m--execute[0m[36m [0m[36m<EXECUTE>
          Command to run after switch
          
          Replaces the wt process with the command after switching, giving it full terminal control. Useful for launching editors, AI agents, or other
           interactive tools.
          
          Especially useful with shell aliases:
          
            [1m[1malias wsc='wt switch --create -x claude'
            [1mwsc feature-branch -- 'Fix GH #322'
          
          Then [1mwsc feature-branch[0m creates the worktree and launches Claude Code. Arguments after [1m--[0m are passed to the command, so [1mwsc feature -- 'Fix 
          [1mGH #322'[0m runs [1mclaude 'Fix GH #322'[0m, starting Claude with a prompt.

  [1m[36m-y[0m, [1m[36m--yes
          Skip approval prompts

      [1m[36m--clobber
          Remove stale paths at target

      [1m[36m--no-verify
          Skip hooks

  [1m[36m-h[0m, [1m[36m--help
          Print help (see a summary with '-h')

[1m[32mGlobal Options:
  [1m[36m-C[0m[36m [0m[36m<path>
          Working directory for this command

      [1m[36m--config[0m[36m [0m[36m<path>
          User config file path

  [1m[36m-v[0m, [1m[36m--verbose[0m[36m...
          Show debug info (-v), or also write diagnostic report (-vv)

Change directory to a worktree, creating one if needed.

Worktrees are addressed by branch name; paths are computed from a configurable template. Unlike [2mgit switch[0m, this navigates between worktrees rather 
than changing branches in place.

[32mExamples

  [2mwt switch feature-auth           # Switch to worktree
  [2mwt switch -                      # Previous worktree (like cd -)
  [2mwt switch --create new-feature   # Create new branch and worktree
  [2mwt switch --create hotfix --base production

[32mCreating a branch

The [2m--create[0m flag creates a new branch from the [2m--base[0m branch (defaults to default branch). Without [2m--create[0m, the branch must already exist.

[32mCreating worktrees

If the branch already has a worktree, [2mwt switch[0m changes directories to it. Otherwise, it creates one, running hooks.

When creating a worktree, worktrunk:

1. Creates worktree at configured path
2. Switches to new directory
3. Runs post-create hooks (blocking)
4. Spawns post-start hooks (background)

  [2mwt switch feature                        # Existing branch â†’ creates worktree
  [2mwt switch --create feature               # New branch and worktree
  [2mwt switch --create fix --base release    # New branch from release
  [2mwt switch --create temp --no-verify      # Skip hooks

[32mShortcuts

   Shortcut            Meaning            
   â”€â”€â”€â”€â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 
   ^        Default branch (main/master)  
   @        Current branch/worktree       
   -        Previous worktree (like cd -) 

  [2mwt switch -                      # Back to previous
  [2mwt switch ^                      # Default branch worktree
  [2mwt switch --create fix --base=@  # Branch from current HEAD

[32mWhen wt switch fails

- [1mBranch doesn't exist[0m â€” Use [2m--create[0m, or check [2mwt list --branches
- [1mPath occupied[0m â€” Another worktree is at the target path; switch to it or remove it
- [1mStale directory[0m â€” Use [2m--clobber[0m to remove a non-worktree directory at the target path

To change which branch a worktree is on, use [2mgit switch[0m inside that worktree.

[32mSee also

- [2mwt select[0m â€” Interactive worktree selection
- [2mwt list[0m â€” View all worktrees
- [2mwt remove[0m â€” Delete worktrees when done
- [2mwt merge[0m â€” Integrate changes back to the default branch
